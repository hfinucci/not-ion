{
    "swagger": "2.0",
    "info": {
        "version": "1.0.0",
        "title": "not-ion",
        "description": "Swagger documentation on not-ion API"
    },
    "host": "localhost:8000",
    "basePath": "/",
    "schemes": ["http"],
    "securityDefinitions": {
        "basicAuth": {
            "type": "basic"
        }
    },
    "security": [
        {
            "basicAuth": []
        }
    ],
    "tags": [

        {
            "name": "User",
            "description": "API calls for User"
        },
        {
            "name": "Pages",
            "description": "API calls for Pages"
        },
        {
            "name": "Blocks",
            "description": "API calls for Blocks"
        },
        {
            "name": "Dashboard",
            "description": "API calls for Dashboard"
        }
    ],
    "paths": {
        "/pages" : {
            "post": {
                "tags": ["Pages"],
                "description": "Create a new page",
                "parameters": [

                ],
                "responses": {
                    "201": {
                        "description": "Dashboard created"
                    }
                }
            }
        },
        "/blocks": {
            "post": {
                "tags": [
                    "Blocks"
                ],
                "description": "Create a new block",
                "parameters": [
                    {
                        "name": "block",
                        "in": "body",
                        "description": "block to be created",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/NewBlock"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Block created"
                    }
                }
            }
        },
        "/blocks/{id}": {
            "get": {
                "tags": [
                    "Blocks"
                ],
                "description": "Get block by id",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of block to be fetched",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Block response",
                        "schema": {
                            "$ref": "#/definitions/Block"
                        }
                    },
                    "404": {
                        "description": "Block not found"
                    },
                    "500": {
                        "description": "Internal server error"
                    }

                }
            },
            "delete": {
                "tags": [
                    "Blocks"
                ],
                "description": "Delete block by id",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of block to be deleted",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Block deleted"
                    },
                    "500": {
                        "description": "Internal server error"
                    }
                }
            }
        },
        "/dashboard":{
            "post": {
                "tags": ["Dashboard"],
                "description": "Create a new dashboard",
                "parameters": [],
                "responses": {
                    "201": {
                        "description": "Dashboard created"
                    }
                }
            },
            "get": {
                "tags": ["Dashboard"],
                "description": "Get dashboard",
                "parameters": [],
                "responses": {
                    "200": {
                        "description": "Dashboards retrieved"
                    }
                }
            }
        }
    },
    "definitions": {
        "Block": {
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/NewBlock"
                },
                {
                    "properties": {
                        "_id": {
                            "type": "string"
                        }
                    }
                }
            ]
        },
        "NewBlock": {
            "required": [
                "type",
                "value",
                "parent"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "type": "string"
                },
                "properties": {
                    "type": "object",
                    "properties": {
                        "type_face": {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "enum": ["bold", "italic", "underline"]
                            }
                        },
                        "color": {
                            "type": "string",
                            "enum": ["default", "grey", "brown", "orange", "yellow", "green", "blue", "purple", "pink", "red"]
                        },
                        "highlight": {
                            "type": "string",
                            "enum": ["default", "grey", "brown", "orange", "yellow", "green", "blue", "purple", "pink", "red"]
                        },
                        "icon": {
                            "type": "string",
                            "example": "light bulb"
                        },
                        "checked": {
                            "type": "boolean",
                            "example": true
                        },
                        "caption": {
                            "type": "string",
                            "example": "This is a caption"
                        },
                        "align": {
                            "type": "string",
                            "enum": ["left", "center", "right"]
                        }
                    }
                },
                "content": {
                    "type": "array",
                    "description": "Array of ids",
                    "items": {
                        "type": "string"
                    }
                },
                "value": {
                    "type": "string",
                    "example": "This is a value"
                },
                "parent": {
                    "type": "object",
                    "properties": {
                        "id": {
                            "type": "string"
                        },
                        "type": {
                            "type": "string",
                            "enum": ["page", "bullet", "toggle", "todo"]
                        }
                    }
                }
            }
        }
    }

}
